<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Evan Peng"><link rel="alternative" href="/atom.xml" title="我的學習筆記" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>git cherry-pick - 我的學習筆記</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">我的學習筆記</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">文章</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-05-28T03:26:14.000Z">May 28, 2017</time><h1 class="post__title"><a href="/2017/05/28/My-First-Article/">git cherry-pick</a></h1><div class="post__main echo"><h2 id="使用情境"><a href="#使用情境" class="headerlink" title="使用情境"></a>使用情境</h2><p>在版本控管過程中，還有個常見的狀況，那就是當你在一個分支中開發了一段時間，但後來決定整個分支都不要了，不過當中卻有幾個版本還想留下，這時要刪除分支也不是，把這個分支合併回來也不是，那該怎麼辦呢？這時可以利用 git cherry-pick 指令「手動挑出」你想套用的變更。</p>
<h2 id="範例-選擇一次貼上全部指令執行時，可能會因為命令延遲，造成最後的結果有誤"><a href="#範例-選擇一次貼上全部指令執行時，可能會因為命令延遲，造成最後的結果有誤" class="headerlink" title="範例 (選擇一次貼上全部指令執行時，可能會因為命令延遲，造成最後的結果有誤)"></a>範例 (選擇一次貼上全部指令執行時，可能會因為命令延遲，造成最後的結果有誤)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">mkdir git-cherry-pick-demo</div><div class="line"><span class="built_in">cd</span> git-cherry-pick-demo</div><div class="line">git init</div><div class="line"></div><div class="line"><span class="built_in">echo</span> 1 &gt; a.txt</div><div class="line">git add .</div><div class="line">git commit -m <span class="string">"Initial commit (a.txt created)"</span></div><div class="line"></div><div class="line"><span class="built_in">echo</span> 2 &gt; a.txt</div><div class="line">git add .</div><div class="line">git commit -m <span class="string">"Update a.txt to 2!"</span></div><div class="line"></div><div class="line">git checkout -b branch1</div><div class="line"></div><div class="line"><span class="built_in">echo</span> 3 &gt; a.txt</div><div class="line">git add .</div><div class="line">git commit -m <span class="string">"Update a.txt to 3!"</span></div><div class="line"></div><div class="line"><span class="built_in">echo</span> b &gt; b.txt</div><div class="line">git add .</div><div class="line">git commit -m <span class="string">"Add b.txt!"</span></div><div class="line"></div><div class="line"><span class="built_in">echo</span> 4 &gt; a.txt</div><div class="line">git add .</div><div class="line">git commit -m <span class="string">"Update a.txt to 4!"</span></div><div class="line"></div><div class="line">git checkout master</div><div class="line"></div><div class="line"><span class="built_in">echo</span> 3 &gt; a.txt</div><div class="line">git add .</div><div class="line">git commit -m <span class="string">"Update a.txt to 3!"</span></div></pre></td></tr></table></figure>
<img src="/2017/05/28/My-First-Article/source-tree-01.png" alt="source-tree-01" title="source-tree-01">
<h3 id="使用-git-cherry-pick-命令"><a href="#使用-git-cherry-pick-命令" class="headerlink" title="使用 git cherry pick 命令"></a>使用 <strong>git cherry pick</strong> 命令</h3><img src="/2017/05/28/My-First-Article/iterm-01.png" alt="iterm-01" title="iterm-01">
<p>如果要套用 branch1 的 dc71bc2 Add b.txt! 這個版本到目前的 master 版本上，可以執行 git cherry-pick dc71bc2 命令，若成功執行，則會在目前的 master 分支建立一個新版本。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git cherry-pick dc71bc2</div></pre></td></tr></table></figure>
<img src="/2017/05/28/My-First-Article/source-tree-02.png" alt="source-tree-02" title="source-tree-02">
<p><blockquote><p>cherry-pick 的英文是「撿櫻桃」的意思，代表你可以從其他籃子(分支)「挑」一些好的櫻桃到自己的籃子(分支)裡！</p>
<footer><strong>Will 保哥 </strong><cite>30 天精通 Git 版本控管</cite></footer></blockquote></p>
<p>執行完 git cherry-pick 命令後，其建立的版本訊息，將會與你指定挑選的那些版本一模一樣，其中包括 Author 與 Date 欄位，都會一模一樣，並不會用你在選項設定中指定的 user.name 與 user.email 參數。這點必須特別注意！</p>
<img src="/2017/05/28/My-First-Article/iterm-02.png" alt="iterm-02" title="iterm-02"></div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/Git/">Git</a></li></ul></footer></article><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2017 Evan Peng</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>